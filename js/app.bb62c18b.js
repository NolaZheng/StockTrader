(function(t){function n(n){for(var s,r,i=n[0],c=n[1],u=n[2],d=0,f=[];d<i.length;d++)r=i[d],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&f.push(a[r][0]),a[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);l&&l(n);while(f.length)f.shift()();return o.push.apply(o,u||[]),e()}function e(){for(var t,n=0;n<o.length;n++){for(var e=o[n],s=!0,i=1;i<e.length;i++){var c=e[i];0!==a[c]&&(s=!1)}s&&(o.splice(n--,1),t=r(r.s=e[0]))}return t}var s={},a={app:0},o=[];function r(n){if(s[n])return s[n].exports;var e=s[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=t,r.c=s,r.d=function(t,n,e){r.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,n){if(1&n&&(t=r(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var s in t)r.d(e,s,function(n){return t[n]}.bind(null,s));return e},r.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(n,"a",n),n},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.p="/stock-trader/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=n,i=i.slice();for(var u=0;u<i.length;u++)n(i[u]);var l=c;o.push([0,"chunk-vendors"]),e()})({0:function(t,n,e){t.exports=e("56d7")},"02a8":function(t,n,e){},"034f":function(t,n,e){"use strict";var s=e("8a23"),a=e.n(s);a.a},"0bb0":function(t,n,e){"use strict";var s=e("02a8"),a=e.n(s);a.a},1:function(t,n){},"248c":function(t,n,e){},"56d7":function(t,n,e){"use strict";e.r(n);var s={};e.r(s),e.d(s,"loadData",(function(){return vt}));e("4de4"),e("e623"),e("e379"),e("5dc8"),e("37e1");var a=e("2b0e"),o=e("8c4f"),r=e("28dd"),i=e("5f5b"),c=e("b1e0"),u=(e("f9e3"),e("2dd8"),e("8c60")),l=e("1f1a"),d=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"container"},[e("app-header"),e("div",{staticClass:"container"},[e("transition",{attrs:{name:"slide",mode:"out-in"}},[e("router-view")],1)],1)],1)},f=[],p=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light"},[e("router-link",{staticClass:"navbar-brand",attrs:{to:"/"}},[t._v("StockTrader")]),e("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[e("ul",{staticClass:"navbar-nav mr-auto"},[e("router-link",{attrs:{to:"/portfolio","active-class":"active",tag:"li"}},[e("a",{staticClass:"nav-link"},[t._v("Portfolio")])]),e("router-link",{attrs:{to:"/stocks","active-class":"active",tag:"li"}},[e("a",{staticClass:"nav-link"},[t._v("Stocks")])]),e("strong",{staticClass:"navbar-text"},[t._v("Funds:"+t._s(t._f("currency")(t.funds)))]),e("div",{staticClass:"row nav-right"},[e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:t.endDay}},[t._v("End Day")])]),e("div",{staticClass:"nav-item dropdown"},[e("b-nav-item-dropdown",{attrs:{id:"my-nav-dropdown",text:"Save & Load","toggle-class":"nav-link-custom",right:""}},[e("b-dropdown-item",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:t.saveData}},[t._v("Save Data")]),e("b-dropdown-item",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:t.loadData}},[t._v("Load Data")])],1)],1)])],1)])],1)},v=[],k=e("5530"),h=e("2f62"),m={data:function(){return{isActive:!1}},computed:{funds:function(){return this.$store.getters.funds}},methods:Object(k["a"])(Object(k["a"])({},Object(h["b"])({randomizeStocks:"randomizeStocks",fetchData:"loadData"})),{},{endDay:function(){this.randomizeStocks()},saveData:function(){var t={funds:this.$store.getters.funds,stockPortfolio:this.$store.getters.stockPortfolio,stocks:this.$store.getters.stocks};this.$http.put("data.json",t)},loadData:function(){this.fetchData()}})},b=m,y=(e("e736"),e("2877")),_=Object(y["a"])(b,p,v,!1,null,"8a0d3f5e",null),g=_.exports,S={components:{appHeader:g},created:function(){this.$store.dispatch("initStocks")}},C=S,O=(e("034f"),Object(y["a"])(C,d,f,!1,null,null,null)),q=O.exports,j=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("h2",{staticClass:"alert alert-info",attrs:{role:"alert"}},[t._v("點選 Portfolio 檢查目前狀態")]),e("h6",[t._v("點選 Save & Load 可保存或讀取資料")]),e("h6",[t._v("點選 End day 可重新開始新的一天")]),e("hr"),e("p",[t._v("目前資金："+t._s(t._f("currency")(t.funds)))])])},w=[],P={computed:{funds:function(){return this.$store.getters.funds}}},x=P,T=Object(y["a"])(x,j,w,!1,null,null,null),E=T.exports,$=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"row"},t._l(t.stocks,(function(t,n){return e("app-stock",{key:n,attrs:{stock:t}})})),1)},D=[],L=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"card bg-warning"},[e("div",{staticClass:"card-body text-center"},[e("h4",{staticClass:"card-title"},[t._v(t._s(t.stock.name))]),e("h6",{staticClass:"card-subtitle mb-2 text-muted"},[t._v("(Price: "+t._s(t.stock.price)+" | Quantity: "+t._s(t.stock.quantity)+")")]),e("div",{staticClass:"pull-left"},[e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.quantity,expression:"quantity",modifiers:{number:!0}}],staticClass:"form-control text-center",class:{danger:t.checkQuantity},attrs:{type:"number",placeholder:"0",min:"0"},domProps:{value:t.quantity},on:{input:function(n){n.target.composing||(t.quantity=t._n(n.target.value))},blur:function(n){return t.$forceUpdate()}}})]),e("div",{staticClass:"pull-right"},[e("button",{staticClass:"btn btn-danger",attrs:{disabled:t.checkQuantity||t.quantity<=0||!Number.isInteger(t.quantity)},on:{click:t.sellStock}},[t._v(t._s(t.checkQuantity?"Not Enough Stocks":"SELL"))])])])])])},K=[],I={props:["stock"],data:function(){return{quantity:0}},methods:Object(k["a"])(Object(k["a"])({},Object(h["b"])({sellHolder:"sellStock"})),{},{sellStock:function(){var t={stockId:this.stock.id,stockPrice:this.stock.price,quantity:this.quantity};this.sellHolder(t),this.quantity=0}}),computed:{checkQuantity:function(){return this.quantity>this.stock.quantity}}},M=I,N=(e("0bb0"),Object(y["a"])(M,L,K,!1,null,"2dbfedae",null)),B=N.exports,F={computed:Object(k["a"])({},Object(h["c"])({stocks:"stockPortfolio"})),components:{appStock:B}},Q=F,z=Object(y["a"])(Q,$,D,!1,null,null,null),R=z.exports,U=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"row"},t._l(t.stocks,(function(t,n){return e("app-stock",{key:n,attrs:{stock:t}})})),1)},H=[],Y=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"card bg-light"},[e("div",{staticClass:"card-body text-center"},[e("h4",{staticClass:"card-title"},[t._v(t._s(t.stock.name))]),e("h6",{staticClass:"card-subtitle mb-2 text-muted"},[t._v("(Price: "+t._s(t.stock.price)+")")]),e("div",{staticClass:"pull-left"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.quantity,expression:"quantity"}],staticClass:"form-control text-center",class:{danger:t.checkFunds},attrs:{type:"number",placeholder:"0",min:"0"},domProps:{value:t.quantity},on:{input:function(n){n.target.composing||(t.quantity=n.target.value)}}})]),e("div",{staticClass:"pull-right"},[e("button",{staticClass:"btn",class:t.toggleBtn,attrs:{disabled:t.checkFunds||t.quantity<=0||!Number.isInteger(+t.quantity)},on:{click:t.buyStock}},[t._v(t._s(t.checkFunds?"Insufficient Funds":"BUY"))])])])])])},A=[],J={props:["stock"],data:function(){return{quantity:0}},methods:{buyStock:function(){var t={stockId:this.stock.id,stockPrice:this.stock.price,quantity:this.quantity};this.$store.dispatch("buyStock",t),this.quantity=0}},computed:{funds:function(){return this.$store.getters.funds},checkFunds:function(){return this.quantity*this.stock.price>this.funds},toggleBtn:function(){return this.quantity*this.stock.price>this.funds?"btn-danger":"btn-success"}}},G=J,W=(e("a9db"),Object(y["a"])(G,Y,A,!1,null,"3d8c0dab",null)),V=W.exports,X={components:{appStock:V},computed:{stocks:function(){return this.$store.getters.stocks}}},Z=X,tt=Object(y["a"])(Z,U,H,!1,null,null,null),nt=tt.exports,et=[{path:"/",component:E},{path:"/portfolio",component:R},{path:"/stocks",component:nt}],st=(e("4160"),e("159b"),[{id:1,name:"BMW",price:110},{id:2,name:"Google",price:200},{id:3,name:"Apple",price:250},{id:4,name:"Twitter",price:80}]),at={stocks:[]},ot={SET_STOCKS:function(t,n){t.stocks=n},RND_STOCKS:function(t){t.stocks.forEach((function(t){t.price=Math.round(t.price*(1+Math.random()-.5))}))}},rt={buyStock:function(t,n){var e=t.commit;e("BUY_STOCK",n)},initStocks:function(t){var n=t.commit;n("SET_STOCKS",st)},randomizeStocks:function(t){var n=t.commit;n("RND_STOCKS")}},it={stocks:function(t){return t.stocks}},ct={state:at,mutations:ot,actions:rt,getters:it},ut=(e("7db0"),e("c975"),e("d81d"),e("a434"),e("b0c0"),{funds:1e4,stocks:[]}),lt={BUY_STOCK:function(t,n){var e=n.stockId,s=n.stockPrice,a=n.quantity,o=t.stocks.find((function(t){return t.id==e}));o?o.quantity+=a:t.stocks.push({id:e,quantity:a}),t.funds-=s*a},SELL_STOCK:function(t,n){var e=n.stockId,s=n.stockPrice,a=n.quantity,o=t.stocks.find((function(t){return t.id==e}));o.quantity>a?o.quantity-=a:t.stocks.splice(t.stocks.indexOf(o),1),t.funds+=s*a},SET_PORT:function(t,n){t.funds=n.funds,t.stocks=n.stockPortfolio?n.stockPortfolio:[]}},dt={sellStock:function(t,n){var e=t.commit;e("SELL_STOCK",n)}},ft={stockPortfolio:function(t,n){return t.stocks.map((function(t){var e=n.stocks.find((function(n){return n.id==t.id}));return{id:t.id,quantity:t.quantity,name:e.name,price:e.price}}))},funds:function(t){return t.funds}},pt={state:ut,mutations:lt,actions:dt,getters:ft},vt=function(t){var n=t.commit;a["default"].http.get("data.json").then((function(t){return t.json()})).then((function(t){if(t){var e=t.stocks,s=t.funds,a=t.stockPortfolio,o={stockPortfolio:a,funds:s};n("SET_STOCKS",e),n("SET_PORT",o)}}))};a["default"].use(h["a"]);var kt=new h["a"].Store({actions:s,modules:{stocks:ct,portfolio:pt}});a["default"].use(o["a"]),a["default"].use(r["a"]),a["default"].use(i["a"]),a["default"].use(c["a"]),a["default"].use(u["a"]),a["default"].use(l["a"]),a["default"].http.options.root="https://vuejs-stock-trader-d1691.firebaseio.com/",a["default"].filter("currency",(function(t){return"$"+t.toLocaleString()}));var ht=new o["a"]({mode:"hash",base:"/stock-trader/",routes:et});new a["default"]({el:"#app",router:ht,store:kt,render:function(t){return t(q)}})},"8a23":function(t,n,e){},a926:function(t,n,e){},a9db:function(t,n,e){"use strict";var s=e("a926"),a=e.n(s);a.a},e736:function(t,n,e){"use strict";var s=e("248c"),a=e.n(s);a.a}});
//# sourceMappingURL=app.bb62c18b.js.map